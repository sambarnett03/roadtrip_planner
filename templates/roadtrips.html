<!-- templates/roadtrips.html (overwrite) -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Your Roadtrips</title>
    <style>
      body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; padding: 2rem; max-width: 900px; margin: auto;}
      .card { padding: 1rem; border-radius: 6px; box-shadow: 0 6px 18px rgba(0,0,0,0.06); margin-bottom:1rem; }
      table { width:100%; border-collapse: collapse; }
      th, td { text-align:left; padding:.5rem; border-bottom: 1px solid #eee; }
      input[type="text"] { width: 50%; padding:.4rem; }
      input[type="file"] { padding:.2rem; }
      .actions { display:flex; gap:.5rem; margin-top:.5rem; }
      .muted { color:#666; }
      .small { font-size:0.9rem; color:#555; }
      .no-data { color:#777; padding: .8rem 0; }
      .btn { padding:.4rem .7rem; border-radius:4px; border:1px solid #ccc; background:white; cursor:pointer; }
    </style>
  </head>
  <body>
    <h1>Your Roadtrips</h1>

    <div class="card">
      <h2>Create a new roadtrip</h2>
      <p class="muted">Enter a name for the roadtrip. A CSV named <em>NAME.csv</em> will be stored.</p>

      <form id="create-form" method="post" action="{{ url_for('create_roadtrip') }}" enctype="multipart/form-data">
        <label>Roadtrip name: <input id="rt-name" name="name" type="text" required></label>
        <div style="margin-top:.5rem;">
          <label>Or upload a CSV: <input id="rt-file" name="file" type="file" accept=".csv"></label>
        </div>
        <div class="actions">
          <button class="btn" type="submit">Create / Upload</button>
        </div>
      </form>
    </div> 

    <div class="card">
      <h2>Existing roadtrips</h2>

      {% if roadtrips %}
        <table aria-describedby="roadtrips-table">
          <thead>
            <tr><th>Name</th><th>Created</th><th>Actions</th></tr>
          </thead>
          <tbody>
            {% for r in roadtrips %}
            <tr>
              <td>{{ r.name }}</td>
              <td class="small">{{ r.created_at }}</td>
              <td>
                <!-- Placeholder actions: you can wire these later -->
                <a href="{{ url_for('open_map', map_id=r.id) }}">Open</a>
                &nbsp;|&nbsp;
                <a href="#" onclick="alert('Add action here')">Action</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p class="no-data">No roadtrips yet. Create one above to get started.</p>
      {% endif %}
    </div>

    <p><a href="{{ url_for('dashboard') }}">Back to dashboard</a></p>
  </body>
</html>
